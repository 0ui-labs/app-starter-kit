# Sub-Task 14.02.4: Sentry User Feedback

## Ziel
Implementierung von Sentry User Feedback Widget und Custom Feedback Forms. Ermöglicht Nutzern, direkt Feedback zu Errors zu geben und proaktiv Issues zu melden.

## Voraussetzungen
- Sentry Base Setup abgeschlossen (14.02.1)
- Understanding of User Feedback Flows
- Optional: Session Replay Setup für Enhanced Feedback

## Umfang
- User Feedback Widget Integration
- Custom Feedback Forms
- Error-triggered Feedback Prompts
- Proactive Feedback Collection
- Feedback mit Screenshots
- Feedback Analytics
- Multi-language Support (Deutsch/Englisch)

## Implementierung

### 1. User Feedback Configuration

`apps/web/sentry.client.config.ts` (Erweiterung):
```typescript
import * as Sentry from '@sentry/nextjs';
import { feedbackIntegration } from '@sentry/nextjs';

Sentry.init({
  // ... existing config
  
  integrations: [
    // ... existing integrations
    
    // User Feedback Widget
    feedbackIntegration({
      // Widget configuration
      colorScheme: 'auto', // 'light', 'dark', or 'auto'
      
      // Widget positioning
      buttonPosition: 'bottom-right',
      
      // Widget labels (German)
      triggerLabel: 'Feedback geben',
      formTitle: 'Feedback senden',
      nameLabel: 'Name',
      namePlaceholder: 'Ihr Name',
      emailLabel: 'E-Mail',
      emailPlaceholder: 'ihre.email@beispiel.de',
      messageLabel: 'Nachricht',
      messagePlaceholder: 'Was ist passiert? Was haben Sie erwartet?',
      submitButtonLabel: 'Feedback senden',
      cancelButtonLabel: 'Abbrechen',
      successMessageText: 'Vielen Dank für Ihr Feedback!',
      
      // Auto-inject user data
      autoInject: true,
      
      // Show email field
      showEmail: true,
      
      // Show name field
      showName: true,
      
      // Required fields
      isNameRequired: false,
      isEmailRequired: true,
      
      // Enable screenshot capability
      enableScreenshot: true,
      
      // Theme customization
      themeLight: {
        background: '#ffffff',
        backgroundHover: '#f6f6f7',
        foreground: '#2b2233',
        error: '#e1567c',
        success: '#268d75',
        border: '#c1c4cb',
        boxShadow: '0px 4px 24px 0px rgba(43, 34, 51, 0.12)',
      },
      
      themeDark: {
        background: '#1f1f1f',
        backgroundHover: '#2a2a2a',
        foreground: '#ffffff',
        error: '#f55459',
        success: '#2da98c',
        border: '#363636',
        boxShadow: '0px 4px 24px 0px rgba(0, 0, 0, 0.4)',
      },
      
      // Callback when feedback is submitted
      onSubmitSuccess: (data) => {
        console.log('Feedback submitted:', data);
      },
      
      onSubmitError: (error) => {
        console.error('Feedback submission failed:', error);
      },
    }),
  ],
});
```

### 2. Custom Feedback Service

`apps/web/src/lib/monitoring/feedback-service.ts`:
```typescript
import * as Sentry from '@sentry/nextjs';

export interface FeedbackData {
  name?: string;
  email?: string;
  message: string;
  category?: 'bug' | 'feature' | 'improvement' | 'other';
  severity?: 'low' | 'medium' | 'high' | 'critical';
  url?: string;
  screenshot?: string;
  metadata?: Record<string, any>;
}

/**
 * Submit user feedback to Sentry
 */
export async function submitFeedback(data: FeedbackData) {
  const user = Sentry.getCurrentScope().getUser();
  
  // Create feedback event
  const feedbackEvent = {
    message: data.message,
    name: data.name || user?.username || 'Anonymous',
    email: data.email || user?.email || 'unknown@example.com',
    url: data.url || window.location.href,
    category: data.category || 'other',
    severity: data.severity || 'medium',
    metadata: {
      ...data.metadata,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
      viewport: {
        width: window.innerWidth,
        height: window.innerHeight,
      },
    },
  };
  
  // Send as Sentry message with feedback context
  Sentry.withScope((scope) => {
    scope.setLevel(data.severity === 'critical' ? 'error' : 'info');
    scope.setTag('feedback.category', feedbackEvent.category);
    scope.setTag('feedback.severity', feedbackEvent.severity);
    scope.setContext('feedback', feedbackEvent);
    
    if (data.screenshot) {
      scope.addAttachment({
        filename: 'screenshot.png',
        data: data.screenshot,
        contentType: 'image/png',
      });
    }
    
    Sentry.captureMessage(
      `User Feedback: ${feedbackEvent.message.substring(0, 100)}`,
      data.severity === 'critical' ? 'error' : 'info'
    );
  });
  
  return feedbackEvent;
}

/**
 * Capture feedback with screenshot
 */
export async function captureScreenshot(): Promise<string | null> {
  try {
    // Check if html2canvas is available
    const html2canvas = (await import('html2canvas')).default;
    
    const canvas = await html2canvas(document.body, {
      scale: 0.5, // Reduce size
      logging: false,
      useCORS: true,
      allowTaint: false,
    });
    
    return canvas.toDataURL('image/png');
  } catch (error) {
    console.error('Failed to capture screenshot:', error);
    return null;
  }
}

/**
 * Show feedback widget programmatically
 */
export function showFeedbackWidget() {
  const feedback = Sentry.getFeedback();
  if (feedback) {
    const widget = feedback.createWidget();
    widget.open();
  }
}

/**
 * Attach feedback to specific error
 */
export function attachFeedbackToError(errorId: string, feedback: FeedbackData) {
  Sentry.withScope((scope) => {
    scope.setTag('error.id', errorId);
    scope.setContext('error_feedback', {
      errorId,
      feedback,
    });
    
    Sentry.captureMessage(
      `Feedback for error ${errorId}: ${feedback.message}`,
      'info'
    );
  });
}
```

### 3. Custom Feedback Form Component

`apps/web/src/components/feedback/feedback-form.tsx`:
```typescript
'use client';

import { useState } from 'react';
import { submitFeedback, captureScreenshot, FeedbackData } from '@/lib/monitoring/feedback-service';
import { useUser } from '@clerk/nextjs';

interface FeedbackFormProps {
  errorId?: string;
  onClose?: () => void;
  onSubmit?: (data: FeedbackData) => void;
}

export function FeedbackForm({ errorId, onClose, onSubmit }: FeedbackFormProps) {
  const { user } = useUser();
  const [isSubmitting, setIsSubmitting] = useState(false);
  const [includeScreenshot, setIncludeScreenshot] = useState(false);
  const [formData, setFormData] = useState<FeedbackData>({
    name: user?.fullName || '',
    email: user?.primaryEmailAddress?.emailAddress || '',
    message: '',
    category: 'bug',
    severity: 'medium',
  });
  
  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setIsSubmitting(true);
    
    try {
      let screenshot: string | null = null;
      
      if (includeScreenshot) {
        screenshot = await captureScreenshot();
      }
      
      const feedbackData: FeedbackData = {
        ...formData,
        screenshot: screenshot || undefined,
        url: window.location.href,
        metadata: {
          errorId,
          userId: user?.id,
        },
      };
      
      await submitFeedback(feedbackData);
      
      if (onSubmit) {
        onSubmit(feedbackData);
      }
      
      // Reset form
      setFormData({
        name: user?.fullName || '',
        email: user?.primaryEmailAddress?.emailAddress || '',
        message: '',
        category: 'bug',
        severity: 'medium',
      });
      
      if (onClose) {
        onClose();
      }
    } catch (error) {
      console.error('Failed to submit feedback:', error);
    } finally {
      setIsSubmitting(false);
    }
  };
  
  return (
    <form onSubmit={handleSubmit} className="space-y-4 p-6 bg-white rounded-lg shadow-lg">
      <h2 className="text-xl font-bold">Feedback senden</h2>
      
      {errorId && (
        <div className="p-3 bg-yellow-50 border border-yellow-200 rounded">
          <p className="text-sm text-yellow-800">
            Feedback zu Fehler: {errorId}
          </p>
        </div>
      )}
      
      <div className="grid grid-cols-2 gap-4">
        <div>
          <label className="block text-sm font-medium mb-1">
            Name
          </label>
          <input
            type="text"
            value={formData.name}
            onChange={(e) => setFormData({ ...formData, name: e.target.value })}
            className="w-full px-3 py-2 border rounded-md"
            placeholder="Ihr Name"
          />
        </div>
        
        <div>
          <label className="block text-sm font-medium mb-1">
            E-Mail <span className="text-red-500">*</span>
          </label>
          <input
            type="email"
            value={formData.email}
            onChange={(e) => setFormData({ ...formData, email: e.target.value })}
            className="w-full px-3 py-2 border rounded-md"
            placeholder="ihre.email@beispiel.de"
            required
          />
        </div>
      </div>
      
      <div className="grid grid-cols-2 gap-4">
        <div>
          <label className="block text-sm font-medium mb-1">
            Kategorie
          </label>
          <select
            value={formData.category}
            onChange={(e) => setFormData({ 
              ...formData, 
              category: e.target.value as FeedbackData['category'] 
            })}
            className="w-full px-3 py-2 border rounded-md"
          >
            <option value="bug">Fehler</option>
            <option value="feature">Feature-Wunsch</option>
            <option value="improvement">Verbesserung</option>
            <option value="other">Sonstiges</option>
          </select>
        </div>
        
        <div>
          <label className="block text-sm font-medium mb-1">
            Priorität
          </label>
          <select
            value={formData.severity}
            onChange={(e) => setFormData({ 
              ...formData, 
              severity: e.target.value as FeedbackData['severity'] 
            })}
            className="w-full px-3 py-2 border rounded-md"
          >
            <option value="low">Niedrig</option>
            <option value="medium">Mittel</option>
            <option value="high">Hoch</option>
            <option value="critical">Kritisch</option>
          </select>
        </div>
      </div>
      
      <div>
        <label className="block text-sm font-medium mb-1">
          Beschreibung <span className="text-red-500">*</span>
        </label>
        <textarea
          value={formData.message}
          onChange={(e) => setFormData({ ...formData, message: e.target.value })}
          className="w-full px-3 py-2 border rounded-md"
          rows={4}
          placeholder="Was ist passiert? Was haben Sie erwartet?"
          required
        />
      </div>
      
      <div className="flex items-center">
        <input
          type="checkbox"
          id="include-screenshot"
          checked={includeScreenshot}
          onChange={(e) => setIncludeScreenshot(e.target.checked)}
          className="mr-2"
        />
        <label htmlFor="include-screenshot" className="text-sm">
          Screenshot anhängen
        </label>
      </div>
      
      <div className="flex justify-end gap-2">
        {onClose && (
          <button
            type="button"
            onClick={onClose}
            className="px-4 py-2 text-gray-600 hover:text-gray-800"
          >
            Abbrechen
          </button>
        )}
        <button
          type="submit"
          disabled={isSubmitting}
          className="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50"
        >
          {isSubmitting ? 'Wird gesendet...' : 'Feedback senden'}
        </button>
      </div>
    </form>
  );
}
```

### 4. Error Feedback Prompt

`apps/web/src/components/feedback/error-feedback-prompt.tsx`:
```typescript
'use client';

import { useState, useEffect } from 'react';
import { FeedbackForm } from './feedback-form';
import * as Sentry from '@sentry/nextjs';

interface ErrorFeedbackPromptProps {
  error: Error;
  errorId?: string;
  autoShow?: boolean;
}

export function ErrorFeedbackPrompt({ 
  error, 
  errorId,
  autoShow = true 
}: ErrorFeedbackPromptProps) {
  const [showPrompt, setShowPrompt] = useState(false);
  const [showForm, setShowForm] = useState(false);
  
  useEffect(() => {
    if (autoShow) {
      // Show prompt after a delay
      const timer = setTimeout(() => {
        setShowPrompt(true);
      }, 2000);
      
      return () => clearTimeout(timer);
    }
  }, [autoShow]);
  
  const handleReportClick = () => {
    setShowPrompt(false);
    setShowForm(true);
    
    // Track interaction
    Sentry.addBreadcrumb({
      category: 'feedback',
      message: 'User clicked report error',
      level: 'info',
      data: {
        errorId,
        errorMessage: error.message,
      },
    });
  };
  
  const handleDismiss = () => {
    setShowPrompt(false);
    
    // Track dismissal
    Sentry.addBreadcrumb({
      category: 'feedback',
      message: 'User dismissed error feedback prompt',
      level: 'info',
    });
  };
  
  if (!showPrompt && !showForm) {
    return null;
  }
  
  return (
    <>
      {showPrompt && (
        <div className="fixed bottom-4 left-4 max-w-sm bg-white shadow-lg rounded-lg p-4 z-40">
          <div className="flex items-start">
            <div className="flex-shrink-0">
              <svg
                className="h-6 w-6 text-red-500"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  strokeLinecap="round"
                  strokeLinejoin="round"
                  strokeWidth={2}
                  d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
            </div>
            <div className="ml-3 flex-1">
              <h3 className="text-sm font-medium text-gray-900">
                Ein Fehler ist aufgetreten
              </h3>
              <p className="mt-1 text-sm text-gray-500">
                Möchten Sie uns helfen, dieses Problem zu beheben?
              </p>
              <div className="mt-3 flex gap-2">
                <button
                  onClick={handleReportClick}
                  className="text-sm bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600"
                >
                  Problem melden
                </button>
                <button
                  onClick={handleDismiss}
                  className="text-sm text-gray-500 hover:text-gray-700"
                >
                  Später
                </button>
              </div>
            </div>
          </div>
        </div>
      )}
      
      {showForm && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="max-w-lg w-full">
            <FeedbackForm
              errorId={errorId}
              onClose={() => setShowForm(false)}
              onSubmit={() => {
                setShowForm(false);
                // Show success message
                Sentry.captureMessage('User submitted error feedback', 'info');
              }}
            />
          </div>
        </div>
      )}
    </>
  );
}
```

### 5. Floating Feedback Button

`apps/web/src/components/feedback/feedback-button.tsx`:
```typescript
'use client';

import { useState } from 'react';
import { FeedbackForm } from './feedback-form';
import { showFeedbackWidget } from '@/lib/monitoring/feedback-service';

interface FeedbackButtonProps {
  useNativeWidget?: boolean;
  position?: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right';
}

export function FeedbackButton({ 
  useNativeWidget = false,
  position = 'bottom-right' 
}: FeedbackButtonProps) {
  const [showForm, setShowForm] = useState(false);
  
  const handleClick = () => {
    if (useNativeWidget) {
      showFeedbackWidget();
    } else {
      setShowForm(true);
    }
  };
  
  const positionClasses = {
    'bottom-left': 'bottom-4 left-4',
    'bottom-right': 'bottom-4 right-4',
    'top-left': 'top-4 left-4',
    'top-right': 'top-4 right-4',
  };
  
  return (
    <>
      <button
        onClick={handleClick}
        className={`fixed ${positionClasses[position]} bg-blue-500 text-white px-4 py-2 rounded-full shadow-lg hover:bg-blue-600 transition-colors z-40 flex items-center gap-2`}
        aria-label="Feedback geben"
      >
        <svg
          className="w-5 h-5"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            strokeLinecap="round"
            strokeLinejoin="round"
            strokeWidth={2}
            d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"
          />
        </svg>
        <span className="hidden sm:inline">Feedback</span>
      </button>
      
      {showForm && !useNativeWidget && (
        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
          <div className="max-w-lg w-full">
            <FeedbackForm
              onClose={() => setShowForm(false)}
              onSubmit={() => {
                setShowForm(false);
                // Show success toast or message
              }}
            />
          </div>
        </div>
      )}
    </>
  );
}
```

### 6. Integration in Error Boundary

`apps/web/src/app/error.tsx` (Erweiterung):
```typescript
'use client';

import { useEffect, useState } from 'react';
import * as Sentry from '@sentry/nextjs';
import { ErrorFeedbackPrompt } from '@/components/feedback/error-feedback-prompt';

export default function Error({
  error,
  reset,
}: {
  error: Error & { digest?: string };
  reset: () => void;
}) {
  const [errorId, setErrorId] = useState<string>('');
  
  useEffect(() => {
    // Capture error and get event ID
    const eventId = Sentry.captureException(error, {
      tags: {
        component: 'error-boundary',
        digest: error.digest,
      },
    });
    
    setErrorId(eventId);
  }, [error]);
  
  return (
    <div className="flex min-h-screen flex-col items-center justify-center p-4">
      <div className="max-w-md w-full text-center">
        <h2 className="text-2xl font-bold mb-4">
          Ein Fehler ist aufgetreten!
        </h2>
        <p className="text-gray-600 mb-6">
          {error.message}
        </p>
        
        {error.digest && (
          <p className="text-xs text-gray-400 mb-4">
            Error ID: {error.digest}
          </p>
        )}
        
        <div className="space-y-2">
          <button
            onClick={reset}
            className="w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
          >
            Erneut versuchen
          </button>
          
          <button
            onClick={() => window.location.href = '/'}
            className="w-full px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300"
          >
            Zur Startseite
          </button>
        </div>
      </div>
      
      <ErrorFeedbackPrompt
        error={error}
        errorId={errorId}
        autoShow={true}
      />
    </div>
  );
}
```

### 7. Feedback Analytics Hook

`apps/web/src/hooks/use-feedback-analytics.ts`:
```typescript
'use client';

import { useEffect, useState } from 'react';
import * as Sentry from '@sentry/nextjs';

interface FeedbackStats {
  totalSubmissions: number;
  byCategory: Record<string, number>;
  bySeverity: Record<string, number>;
  recentFeedback: Array<{
    timestamp: string;
    category: string;
    severity: string;
  }>;
}

export function useFeedbackAnalytics() {
  const [stats, setStats] = useState<FeedbackStats>({
    totalSubmissions: 0,
    byCategory: {},
    bySeverity: {},
    recentFeedback: [],
  });
  
  useEffect(() => {
    // This would typically fetch from your backend
    // For demo, we'll use localStorage
    const storedStats = localStorage.getItem('feedback_stats');
    
    if (storedStats) {
      setStats(JSON.parse(storedStats));
    }
    
    // Listen for new feedback
    const handleFeedback = (event: CustomEvent) => {
      const { category, severity } = event.detail;
      
      setStats(prev => {
        const updated = {
          totalSubmissions: prev.totalSubmissions + 1,
          byCategory: {
            ...prev.byCategory,
            [category]: (prev.byCategory[category] || 0) + 1,
          },
          bySeverity: {
            ...prev.bySeverity,
            [severity]: (prev.bySeverity[severity] || 0) + 1,
          },
          recentFeedback: [
            {
              timestamp: new Date().toISOString(),
              category,
              severity,
            },
            ...prev.recentFeedback.slice(0, 9), // Keep last 10
          ],
        };
        
        // Store in localStorage
        localStorage.setItem('feedback_stats', JSON.stringify(updated));
        
        // Also send to Sentry as metric
        Sentry.metrics.increment('feedback.submissions', 1, {
          tags: { category, severity },
        });
        
        return updated;
      });
    };
    
    window.addEventListener('feedback:submitted', handleFeedback as any);
    
    return () => {
      window.removeEventListener('feedback:submitted', handleFeedback as any);
    };
  }, []);
  
  return stats;
}
```

### 8. Testing Page

`apps/web/src/app/test-feedback/page.tsx`:
```typescript
'use client';

import { useState } from 'react';
import { FeedbackButton } from '@/components/feedback/feedback-button';
import { FeedbackForm } from '@/components/feedback/feedback-form';
import { ErrorFeedbackPrompt } from '@/components/feedback/error-feedback-prompt';
import { useFeedbackAnalytics } from '@/hooks/use-feedback-analytics';
import * as Sentry from '@sentry/nextjs';

export default function TestFeedback() {
  const [showError, setShowError] = useState(false);
  const [testError, setTestError] = useState<Error | null>(null);
  const stats = useFeedbackAnalytics();
  
  const triggerError = () => {
    const error = new Error('Test error for feedback widget');
    setTestError(error);
    setShowError(true);
    Sentry.captureException(error);
  };
  
  const showNativeWidget = () => {
    const feedback = Sentry.getFeedback();
    if (feedback) {
      const widget = feedback.createWidget();
      widget.open();
    }
  };
  
  return (
    <div className="p-8 max-w-6xl mx-auto">
      <h1 className="text-2xl font-bold mb-6">User Feedback Testing</h1>
      
      <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
        <div>
          <h2 className="text-lg font-semibold mb-4">Test Actions</h2>
          
          <div className="space-y-4">
            <button
              onClick={triggerError}
              className="w-full px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"
            >
              Trigger Error with Feedback Prompt
            </button>
            
            <button
              onClick={showNativeWidget}
              className="w-full px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"
            >
              Show Native Sentry Widget
            </button>
            
            <div className="p-4 bg-gray-100 rounded">
              <p className="text-sm text-gray-600 mb-2">
                Custom Feedback Form:
              </p>
              <FeedbackForm />
            </div>
          </div>
        </div>
        
        <div>
          <h2 className="text-lg font-semibold mb-4">Feedback Analytics</h2>
          
          <div className="space-y-4">
            <div className="p-4 bg-blue-50 rounded">
              <p className="text-sm font-medium text-blue-900">
                Total Submissions
              </p>
              <p className="text-2xl font-bold text-blue-600">
                {stats.totalSubmissions}
              </p>
            </div>
            
            <div className="p-4 bg-green-50 rounded">
              <p className="text-sm font-medium text-green-900 mb-2">
                By Category
              </p>
              {Object.entries(stats.byCategory).map(([category, count]) => (
                <div key={category} className="flex justify-between text-sm">
                  <span className="text-green-700">{category}:</span>
                  <span className="font-medium">{count}</span>
                </div>
              ))}
            </div>
            
            <div className="p-4 bg-yellow-50 rounded">
              <p className="text-sm font-medium text-yellow-900 mb-2">
                By Severity
              </p>
              {Object.entries(stats.bySeverity).map(([severity, count]) => (
                <div key={severity} className="flex justify-between text-sm">
                  <span className="text-yellow-700">{severity}:</span>
                  <span className="font-medium">{count}</span>
                </div>
              ))}
            </div>
            
            <div className="p-4 bg-gray-50 rounded">
              <p className="text-sm font-medium text-gray-900 mb-2">
                Recent Feedback
              </p>
              <div className="space-y-1">
                {stats.recentFeedback.slice(0, 5).map((item, idx) => (
                  <div key={idx} className="text-xs text-gray-600">
                    {new Date(item.timestamp).toLocaleString('de-DE')} - 
                    {item.category} ({item.severity})
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
      
      {/* Floating feedback button */}
      <FeedbackButton position="bottom-right" />
      
      {/* Error feedback prompt */}
      {showError && testError && (
        <ErrorFeedbackPrompt
          error={testError}
          errorId="test-error-123"
          autoShow={true}
        />
      )}
    </div>
  );
}
```

## Erfolgskriterien
- [ ] Feedback Widget integriert und konfiguriert
- [ ] Custom Feedback Forms funktionieren
- [ ] Error-triggered Feedback Prompts aktiv
- [ ] Screenshots können angehängt werden
- [ ] Feedback wird in Sentry Dashboard angezeigt
- [ ] Multi-language Support (DE/EN)
- [ ] Feedback Analytics tracking
- [ ] User Context wird automatisch angehängt
- [ ] Feedback Categories und Severity funktionieren

## Zeitschätzung
- **Total: 20 Minuten**
  - Widget Configuration: 3 Min
  - Custom Feedback Service: 5 Min
  - Feedback Components: 5 Min
  - Error Integration: 4 Min
  - Testing und Verifikation: 3 Min

## Nächster Schritt
Alle Sentry Subtasks abgeschlossen → Integration Testing und Verifikation