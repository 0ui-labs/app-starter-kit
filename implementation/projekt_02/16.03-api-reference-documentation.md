# Sub-Task 16.03: API Reference Dokumentation

## Ziel
Erstellung einer manuellen, entwicklerfreundlichen API-Referenz in Markdown, da oRPC keine automatische OpenAPI-Generierung unterstützt.

## Umfang
- Strukturierte Markdown-Dokumentation aller API-Endpoints
- Request/Response-Schemas
- Authentifizierungs-Details
- Error Codes und Handling
- Code-Beispiele für TypeScript-Client

## Implementierungsschritte

### 1. Dokumentstruktur anlegen
```
docs/
├── API_REFERENCE.md (Hauptdokument)
├── api/
│   ├── auth.md
│   ├── users.md
│   ├── posts.md
│   └── ai.md
```

### 2. API_REFERENCE.md Hauptdokument
- Übersicht über alle verfügbaren Procedures
- Authentifizierung (Clerk JWT)
- Base URL und Versionierung
- Rate Limiting Informationen
- Error Code Tabelle

### 3. Endpoint-Dokumentation
Für jeden Endpoint dokumentieren:
- **Procedure Name** (z.B. `api.user.getProfile`)
- **Beschreibung**
- **Parameters** mit Types
- **Response** Schema
- **Errors** die auftreten können
- **TypeScript Example**
- **cURL Example** (optional)

### 4. Schema-Dokumentation
- Zod-Schemas als TypeScript-Interfaces
- Validierungsregeln
- Optionale/Required Fields

### 5. Client Usage Examples
```typescript
// Installation
npm install @starter-kit/api-client

// Usage
import { createClient } from '@starter-kit/api-client';
const api = createClient({ token });
```

## Erfolgskriterien
- [ ] Alle API-Procedures dokumentiert
- [ ] Request/Response Schemas vollständig
- [ ] Authentication Flow erklärt
- [ ] Error Handling dokumentiert
- [ ] Mindestens 3 Code-Beispiele pro Procedure

## Geschätzter Aufwand
30-45 Minuten

## Abhängigkeiten
- Sollte nach 16.02 (TypeDoc) erfolgen für Konsistenz

## Format-Beispiel
```markdown
### `api.posts.create`

Create a new post.

**Authorization:** Required

**Input:**
| Field | Type | Required | Description |
|-------|------|----------|-------------|
| title | string | Yes | Post title (max 200 chars) |
| content | string | Yes | Post content |
| tags | string[] | No | Array of tags |

**Response:** `Post`

**Example:**
\`\`\`typescript
const post = await api.posts.create({
  title: "My Post",
  content: "Content here",
  tags: ["tech", "news"]
});
\`\`\`
```

## Notizen
- Kann später für SDK-Generierung verwendet werden
- Postman/Insomnia Collections können daraus abgeleitet werden
- Versionierung für zukünftige API-Änderungen berücksichtigen