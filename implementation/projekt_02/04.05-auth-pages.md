# Arbeitspaket 04.05: Auth Pages

## Ziel
Erstellung der Sign-In und Sign-Up Pages mit Clerk Components.

## Vorbedingungen
- [ ] ClerkProvider ist konfiguriert (04.01)
- [ ] Middleware ist implementiert (04.02)

## Implementierung

### Schritt 1: Sign-In Page
Erstelle `apps/web/src/app/sign-in/[[...sign-in]]/page.tsx`:

```typescript
import { SignIn } from '@clerk/nextjs';

export default function SignInPage() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-gray-50">
      <SignIn 
        appearance={{
          elements: {
            rootBox: 'mx-auto',
            card: 'shadow-2xl',
          },
        }}
        routing="path"
        path="/sign-in"
        signUpUrl="/sign-up"
        afterSignInUrl="/dashboard"
      />
    </div>
  );
}
```

### Schritt 2: Sign-Up Page
Erstelle `apps/web/src/app/sign-up/[[...sign-up]]/page.tsx`:

```typescript
import { SignUp } from '@clerk/nextjs';

export default function SignUpPage() {
  return (
    <div className="flex min-h-screen items-center justify-center bg-gray-50">
      <SignUp 
        appearance={{
          elements: {
            rootBox: 'mx-auto',
            card: 'shadow-2xl',
          },
        }}
        routing="path"
        path="/sign-up"
        signInUrl="/sign-in"
        afterSignUpUrl="/dashboard"
      />
    </div>
  );
}
```

### Schritt 3: Layout für Auth Pages (Optional)
Erstelle `apps/web/src/app/(auth)/layout.tsx`:

```typescript
export default function AuthLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50">
      <div className="absolute inset-0 bg-white/50" />
      <div className="relative z-10">
        {children}
      </div>
    </div>
  );
}
```

## Wichtige Hinweise

### Catch-All Route Pattern
Die `[[...sign-in]]` Syntax ist wichtig für Clerk's Multi-Step Auth:
- Ermöglicht URLs wie `/sign-in/factor-one`
- Unterstützt Social Login Callbacks
- Handled Email Verification Steps

### Routing Mode
```typescript
routing="path" // Nutzt URL-basiertes Routing
routing="hash" // Alternative: Hash-basiertes Routing
routing="virtual" // Alternative: Virtuelles Routing
```

## Verifizierung
1. `/sign-in` zeigt Anmeldeformular
2. `/sign-up` zeigt Registrierungsformular
3. Social Login Buttons funktionieren
4. Formular-Validierung funktioniert
5. Redirect nach erfolgreicher Anmeldung

## Potentielle Probleme

### Redirect funktioniert nicht
**Lösung**: Prüfe `afterSignInUrl` und `afterSignUpUrl`

### Styling Probleme
**Lösung**: Clerk Components nutzen eigenes CSS, nutze `appearance` prop

### 404 Error auf Auth Pages
**Lösung**: Prüfe ob Ordnerstruktur korrekt ist (doppelte eckige Klammern!)

## Erfolgskriterien
- [ ] Sign-In Page rendert korrekt
- [ ] Sign-Up Page rendert korrekt
- [ ] Formular-Validierung funktioniert
- [ ] Redirects nach Auth funktionieren
- [ ] Multi-Step Auth wird unterstützt

## Zeitschätzung: 20 Minuten

## Nächster Schritt
→ 04.06: Protected Dashboard