# Arbeitspaket 15.02: React Query Setup

## Ziel
Integration von TanStack Query (React Query) für optimales Client-Side Caching und State Management.

## Kontext
- **Library**: @tanstack/react-query v5
- **Features**: Stale-While-Revalidate, Background Refetching, Optimistic Updates
- **Integration**: Next.js 15 App Router mit SSR/Hydration Support

## Implementierungsschritte

1. **Query Client Configuration**
   - `apps/web/src/lib/query-client.ts` erstellen
   - Default Options (staleTime, gcTime, retry logic)
   - React Cache Integration für SSR

2. **Provider Setup**
   - QueryClientProvider in Root Layout
   - Hydration Boundary für SSR
   - DevTools Integration (Development)

3. **Prefetch Utilities**
   - Server-Side Prefetching Helper
   - Hydration von Server State
   - Parallel Query Loading

4. **Custom Hooks**
   - useQuery Wrapper mit Type Safety
   - useMutation mit Optimistic Updates
   - useInfiniteQuery für Pagination

## Erfolgskriterien
- [ ] QueryClient konfiguriert
- [ ] SSR/Hydration funktioniert
- [ ] Prefetching implementiert
- [ ] Custom Hooks erstellt
- [ ] DevTools integriert

## Zeitschätzung
15 Minuten