# Teilaufgabe 01.01: Dependencies Installation

## Ziel
Installation der erforderlichen npm Packages für Environment Variable Validation mit T3 Env und Zod.

## Zeitschätzung
⏱️ **5 Minuten**

## Voraussetzungen
- Node.js und npm installiert
- Zugriff auf das Projekt-Root-Verzeichnis
- Internetverbindung für npm Downloads

## Dependencies

### Haupt-Dependencies
1. **@t3-oss/env-nextjs** (v0.11.1+)
   - Purpose: Next.js-spezifische Environment Variable Validation
   - Bietet Build-Time und Runtime Validation
   - Type-Safe Access zu Environment Variables

2. **zod** (v3.23.8+)
   - Purpose: Schema Validation Library
   - Definiert Validation Rules für Environment Variables
   - Bietet TypeScript Type Inference

3. **jiti** (v2.4.0+)
   - Purpose: Just-In-Time TypeScript/ESM Transpiler
   - Ermöglicht TypeScript Import in next.config.mjs
   - Notwendig für Build-Time Validation

## Implementation

### Schritt 1: Navigate zum Web App Directory
```bash
cd apps/web
```

### Schritt 2: Install Dependencies
```bash
npm install @t3-oss/env-nextjs zod jiti
```

### Alternative: Root-Level Installation (Monorepo)
Falls du im Root des Monorepos bist:
```bash
npm install @t3-oss/env-nextjs zod jiti --workspace=apps/web
```

## Verification

### Check package.json
Nach der Installation sollte `apps/web/package.json` folgende Einträge haben:
```json
{
  "dependencies": {
    "@t3-oss/env-nextjs": "^0.11.1",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "jiti": "^2.4.0"
  }
}
```

### Verify Installation
```bash
# Check ob Packages korrekt installiert wurden
npm ls @t3-oss/env-nextjs zod jiti
```

Expected Output:
```
apps/web@0.1.0 /path/to/apps/web
├── @t3-oss/env-nextjs@0.11.1
├── jiti@2.4.0
└── zod@3.23.8
```

## Troubleshooting

### Problem: Version Conflicts
Falls Version-Konflikte auftreten:
```bash
# Force Installation mit exact versions
npm install @t3-oss/env-nextjs@0.11.1 zod@3.23.8 jiti@2.4.0 --save-exact
```

### Problem: Peer Dependency Warnings
Falls Peer Dependency Warnings für Next.js auftreten:
```bash
# Update Next.js falls nötig
npm update next@latest
```

### Problem: Installation Failed in Monorepo
Falls Installation im Monorepo fehlschlägt:
```bash
# Clean install
rm -rf node_modules package-lock.json
npm install
npm install @t3-oss/env-nextjs zod jiti --workspace=apps/web
```

## Rollback
Falls die Installation Probleme verursacht:
```bash
# Remove packages
npm uninstall @t3-oss/env-nextjs zod jiti

# Clean node_modules
rm -rf node_modules
npm install
```

## Success Criteria
- ✅ Alle drei Packages sind installiert
- ✅ Keine npm Errors während Installation
- ✅ package.json wurde korrekt aktualisiert
- ✅ npm ls zeigt alle Packages ohne Errors

## Next Steps
Nach erfolgreicher Installation → [01.02 Environment Configuration](./01.02-environment-configuration.md)